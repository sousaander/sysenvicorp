<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="615px" preserveAspectRatio="none" style="width:1526px;height:615px;background:#FFFFFF;" version="1.1" viewBox="0 0 1526 615" width="1526px" zoomAndPan="magnify"><title>Sequ&#234;ncia: Gerar PDF de Proposta e Enviar por E-mail</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="427.1162" x="548.8887" y="27.9951">Sequ&#234;ncia: Gerar PDF de Proposta e Enviar por E-mail</text><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="30.6021" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="34" x2="34" y1="118.5938" y2="534.7188"/></g><g><title>public.index.php</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="376.6377" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="379.9961" x2="379.9961" y1="118.5938" y2="534.7188"/></g><g><title>OrcamentoController</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="556.7456" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="560.0439" x2="560.0439" y1="118.5938" y2="534.7188"/></g><g><title>PropostaModel</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="709.9775" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="713.1714" x2="713.1714" y1="118.5938" y2="534.7188"/></g><g><title>Views .proposta_pdf.</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="908.4243" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="911.4629" x2="911.4629" y1="118.5938" y2="534.7188"/></g><g><title>Dompdf .vendor.</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="1066.4053" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1070.3857" x2="1070.3857" y1="118.5938" y2="534.7188"/></g><g><title>PHPMailer .vendor.</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="1217.7109" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1221.4248" x2="1221.4248" y1="118.5938" y2="534.7188"/></g><g><title>SMTP Server</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="1365.1094" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1368.9492" x2="1368.9492" y1="118.5938" y2="534.7188"/></g><g><title>Navegador</title><rect fill="#000000" fill-opacity="0.00000" height="416.125" width="8" x="1471.5815" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1475.2695" x2="1475.2695" y1="118.5938" y2="534.7188"/></g><g class="participant participant-head" data-participant="Browser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="115.292">Usuario</text><ellipse cx="34.6021" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,58.7969 L34.6021,85.7969 M21.6021,66.7969 L47.6021,66.7969 M34.6021,85.7969 L21.6021,100.7969 M34.6021,85.7969 L47.6021,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Browser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="546.7139">Usuario</text><ellipse cx="34.6021" cy="558.5156" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,566.5156 L34.6021,593.5156 M21.6021,574.5156 L47.6021,574.5156 M34.6021,593.5156 L21.6021,608.5156 M34.6021,593.5156 L47.6021,608.5156" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Front"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.2832" x="312.9961" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.4844" x="322.3955" y="90.9951">public/index.php</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.2832" x="319.9961" y="107.292">(Front Controller)</text></g><g class="participant participant-tail" data-participant="Front"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.2832" x="312.9961" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.4844" x="322.3955" y="553.7139">public/index.php</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.2832" x="319.9961" y="570.0107">(Front Controller)</text></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.4033" x="480.0439" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.4033" x="487.0439" y="107.292">OrcamentoController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.4033" x="480.0439" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.4033" x="487.0439" y="553.7139">OrcamentoController</text></g><g class="participant participant-head" data-participant="Model"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.6123" x="655.1714" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6123" x="662.1714" y="107.292">PropostaModel</text></g><g class="participant participant-tail" data-participant="Model"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.6123" x="655.1714" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6123" x="662.1714" y="553.7139">PropostaModel</text></g><g class="participant participant-head" data-participant="View"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.9229" x="831.4629" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9229" x="838.4629" y="107.292">Views (proposta_pdf)</text></g><g class="participant participant-tail" data-participant="View"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.9229" x="831.4629" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9229" x="838.4629" y="553.7139">Views (proposta_pdf)</text></g><g class="participant participant-head" data-participant="Dompdf"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.0391" x="1003.3857" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.0391" x="1010.3857" y="107.292">Dompdf (vendor)</text></g><g class="participant participant-tail" data-participant="Dompdf"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.0391" x="1003.3857" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.0391" x="1010.3857" y="553.7139">Dompdf (vendor)</text></g><g class="participant participant-head" data-participant="Mailer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.5723" x="1147.4248" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.5723" x="1154.4248" y="107.292">PHPMailer (vendor)</text></g><g class="participant participant-tail" data-participant="Mailer"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.5723" x="1147.4248" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.5723" x="1154.4248" y="553.7139">PHPMailer (vendor)</text></g><g class="participant participant-head" data-participant="SMTP"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.3203" x="1317.9492" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.3203" x="1324.9492" y="107.292">SMTP Server</text></g><g class="participant participant-tail" data-participant="SMTP"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.3203" x="1317.9492" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.3203" x="1324.9492" y="553.7139">SMTP Server</text></g><g class="participant participant-head" data-participant="BrowserOut"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.624" x="1430.2695" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.624" x="1437.2695" y="107.292">Navegador</text></g><g class="participant participant-tail" data-participant="BrowserOut"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.624" x="1430.2695" y="533.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.624" x="1437.2695" y="553.7139">Navegador</text></g><g class="message" data-participant-1="Browser" data-participant-2="Front"><polygon fill="#181818" points="368.6377,145.7266,378.6377,149.7266,368.6377,153.7266,372.6377,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="374.6377" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.0356" x="41.6021" y="144.6606">HTTP POST /orcamento/enviarEmailProposta/{id}</text></g><g class="message" data-participant-1="Front" data-participant-2="Controller"><polygon fill="#181818" points="548.7456,174.8594,558.7456,178.8594,548.7456,182.8594,552.7456,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="380.6377" x2="554.7456" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1079" x="387.6377" y="173.7935">enviarEmailProposta(id)</text></g><g class="message" data-participant-1="Controller" data-participant-2="Model"><polygon fill="#181818" points="701.9775,203.9922,711.9775,207.9922,701.9775,211.9922,705.9775,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="707.9775" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.2319" x="567.7456" y="202.9263">getPropostaById(id)</text></g><g class="message" data-participant-1="Controller" data-participant-2="View"><polygon fill="#181818" points="900.4243,233.125,910.4243,237.125,900.4243,241.125,904.4243,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="906.4243" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.6787" x="567.7456" y="232.0591">renderPartial('orcamento/proposta_pdf', proposta)</text></g><g class="message" data-participant-1="View" data-participant-2="Controller"><polygon fill="#181818" points="571.7456,262.2578,561.7456,266.2578,571.7456,270.2578,567.7456,266.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="565.7456" x2="911.4243" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1753" x="577.7456" y="261.1919">HTML</text></g><g class="message" data-participant-1="Controller" data-participant-2="Dompdf"><polygon fill="#181818" points="1058.4053,336.7891,1068.4053,340.7891,1058.4053,344.7891,1062.4053,340.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="1064.4053" y1="340.7891" y2="340.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.687" x="567.7456" y="290.3247">loadHtml(html)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="567.7456" y="305.4575">setPaper('A4')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.3203" x="567.7456" y="320.5903">render()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.0244" x="567.7456" y="335.7231">DomP_output = output()</text></g><g class="message" data-participant-1="Controller" data-participant-2="Mailer"><polygon fill="#181818" points="1209.7109,396.1875,1219.7109,400.1875,1209.7109,404.1875,1213.7109,400.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="1215.7109" y1="400.1875" y2="400.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0171" x="567.7456" y="364.856">addStringAttachment(pdfOutput, filename)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.1621" x="567.7456" y="379.9888">set SMTP config</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8892" x="567.7456" y="395.1216">set From/To/Subject/Body</text></g><g class="message" data-participant-1="Controller" data-participant-2="Mailer"><polygon fill="#181818" points="1209.7109,425.3203,1219.7109,429.3203,1209.7109,433.3203,1213.7109,429.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="1215.7109" y1="429.3203" y2="429.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.4058" x="567.7456" y="424.2544">send()</text></g><g class="message" data-participant-1="Mailer" data-participant-2="SMTP"><polygon fill="#181818" points="1357.1094,454.4531,1367.1094,458.4531,1357.1094,462.4531,1361.1094,458.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1221.7109" x2="1363.1094" y1="458.4531" y2="458.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.3984" x="1228.7109" y="453.3872">SMTP conversation</text></g><g class="message" data-participant-1="Mailer" data-participant-2="Controller"><polygon fill="#181818" points="571.7456,483.5859,561.7456,487.5859,571.7456,491.5859,567.7456,487.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="565.7456" x2="1220.7109" y1="487.5859" y2="487.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5796" x="577.7456" y="482.52">success/failure</text></g><g class="message" data-participant-1="Controller" data-participant-2="BrowserOut"><polygon fill="#181818" points="1463.5815,512.7188,1473.5815,516.7188,1463.5815,520.7188,1467.5815,516.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="560.7456" x2="1469.5815" y1="516.7188" y2="516.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.9224" x="567.7456" y="511.6528">Redirect to /orcamento/verProposta/{id}</text></g><!--SRC=[TPB1ZjCm48RlUOfHBqsbBRbmYWJIbkrI94eZKZYjjFBQqzOeiOtjT5aXNeZNuCMOsCcc2Sl5ydY-cVdzsrxw2g74xysVtufBbiDxjCn2SNCB0g6mscZd6I2irLbImcWBwsNDP9KmxYduuXfcfGRcO6NreqER66QzvD8mvM5cceTAyamgWJzUcPEvK-cjrPHvHulLLOLsCMkhm-cuTcSvgr5vFR017S8ntylTQe5L8CDk37sL-EWWDHrxRyGX2cWJO_H6rvI5z8nAw4vcF9lCtHHRSWJj68rdOxJSxWlosvwxgxJncFZ4pdXar6HsuUckyKdIxM7vDfe5EMpsrAxObNl8T6zMXk6frkqZzOvaFwNubSGgAXyCf1uluAaKY-G2efBW9D57z3srUleWNY1R7mcqv0JQehqQgzBv8E_I-VaLzE4Y2ONBgRpDVljnCg5xbnmgpSJ6rrLwecLnfno9OmPjEhz-FQSuQaXfHoN5lMwyQJoyWRX9_xbZVCGSc12bjr8Thxrd_DJgJcdYBfHTmO4mHRU94yCR0jVg88_nW7okixtEokRX6tAVhRHu-jyeHn99I1TJ9dJBdvlIHt7CIwsUaQb1hk4SdSiEb6yiJWOD7uZGpoYa9KNWzUM7eHcZZ_8N]--></g></svg>